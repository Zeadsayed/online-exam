import{b as q}from"./chunk-3GDVZARB.js";import"./chunk-AG2FBA76.js";import{a as B,b as z}from"./chunk-PEONLE7D.js";import"./chunk-MQ2HQP63.js";import{a as G,b as P,c as R,d as j,e as O}from"./chunk-SEGRH3AH.js";import"./chunk-D6GV4WKX.js";import{b as w,c as M,d as T,e as V,f as E,g as I,i as L,j as N,k,l as A,m as D}from"./chunk-2DU57IS5.js";import{c as _,e as S,h as x,q as F,r as b,y as l}from"./chunk-OIVN5BXV.js";import{$ as d,Bb as y,Ja as n,Ka as c,_a as p,ab as s,ea as f,fb as r,gb as o,hb as u,mb as v,nb as g,vb as a,yb as h,zb as C}from"./chunk-LT4NTUAE.js";var J=e=>({"ng-invalid ng-dirty":e});function K(e,H){e&1&&(r(0,"small",11),a(1,"Code is required."),o())}function Q(e,H){if(e&1&&(r(0,"div",9),p(1,K,2,0,"small",10),o()),e&2){let i=g();n(),s("ngIf",i.f.resetCode.errors==null?null:i.f.resetCode.errors.required)}}var fe=(()=>{class e{constructor(i){this.messageService=i,this._AuthApiService=d(G),this._router=d(F),this._toastService=d(O),this.isLoading=!1,this.isSubmitted=!1,this.verifyForm=new E({resetCode:new I(null,[M.required])})}get f(){return this.verifyForm.controls}submit(){if(this.isSubmitted=!0,this.verifyForm.invalid){this._toastService.showToast("Please Fill Form","warn");return}this.isLoading=!0,this._AuthApiService.verify(this.verifyForm.value).subscribe({next:()=>{this.isLoading=!1,this._toastService.showToast("Verified","success"),this._router.navigate(["/auth/reset-password"])},error:i=>{this.isLoading=!1,this._toastService.showToast(i.error.message,"error")}})}static{this.\u0275fac=function(m){return new(m||e)(c(l))}}static{this.\u0275cmp=f({type:e,selectors:[["app-verify"]],standalone:!0,features:[h([l]),C],decls:14,vars:9,consts:[[3,"formGroup"],[1,"mb-5","fw-bold"],[1,"group"],["type","text","id","inputtext","pInputText","","formControlName","resetCode","placeholder","Enter Code",1,"w-100",3,"ngClass"],["class","text-danger",4,"ngIf"],[1,"mt-2","d-flex","justify-content-end"],["routerLink","/auth/login",1,"text-decoration-none"],[1,"mt-5"],[3,"clickEmitter","text","isLoading","classes","type"],[1,"text-danger"],["class","p-error block",4,"ngIf"],[1,"p-error","block"]],template:function(m,t){m&1&&(u(0,"p-toast"),r(1,"form",0)(2,"h3",1),a(3,"Verify Code"),o(),r(4,"div",2),u(5,"input",3),p(6,Q,2,1,"div",4),o(),r(7,"div",5)(8,"span"),a(9,"Didn\u2019t receive a code? "),r(10,"a",6),a(11,"Resend"),o()()(),r(12,"div",7)(13,"app-main-btn",8),v("clickEmitter",function(){return t.submit()}),o()()()),m&2&&(n(),s("formGroup",t.verifyForm),n(4),s("ngClass",y(7,J,t.f.resetCode.invalid&&(t.f.resetCode.touched||t.isSubmitted))),n(),s("ngIf",(t.f.resetCode.touched||t.isSubmitted)&&t.f.resetCode.invalid),n(7),s("text","Verify")("isLoading",t.isLoading)("classes","rounded-4 w-100")("type","submit"))},dependencies:[A,L,w,T,V,D,N,k,R,P,j,b,z,B,x,_,S,q],styles:[".group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{box-shadow:#959da533 0 8px 24px}"]})}}return e})();export{fe as VerifyComponent};
