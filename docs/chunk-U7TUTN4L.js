import{a as j,b as R}from"./chunk-3GDVZARB.js";import"./chunk-AG2FBA76.js";import{a as H,b as z}from"./chunk-PEONLE7D.js";import"./chunk-MQ2HQP63.js";import{a as G,b as D,c as O,d as V,e as B}from"./chunk-SEGRH3AH.js";import"./chunk-D6GV4WKX.js";import{b as M,c as f,d as T,e as E,f as I,g,i as N,j as k,k as A,l as L,m as q}from"./chunk-2DU57IS5.js";import{c as y,e as b,h as F,q as x,y as c}from"./chunk-OIVN5BXV.js";import{$ as p,Bb as v,Ja as r,Ka as h,_a as m,ab as o,ea as _,fb as s,gb as n,hb as u,mb as S,nb as w,vb as a,yb as P,zb as C}from"./chunk-LT4NTUAE.js";var J=e=>({"ng-invalid ng-dirty":e});function K(e,l){e&1&&(s(0,"small"),a(1,"Email is required."),n())}function Q(e,l){e&1&&(s(0,"small"),a(1,"Invalid email address."),n())}function U(e,l){if(e&1&&(s(0,"div",9),m(1,K,2,0,"small",10)(2,Q,2,0,"small",10),n()),e&2){let t=w();r(),o("ngIf",t.f.email.errors==null?null:t.f.email.errors.required),r(),o("ngIf",t.f.email.errors==null?null:t.f.email.errors.email)}}function W(e,l){e&1&&(s(0,"small",12),a(1,"Password is required."),n())}function X(e,l){e&1&&(s(0,"small",12),a(1,"Invalid Password."),n())}function Y(e,l){if(e&1&&(s(0,"div",9),m(1,W,2,0,"small",11)(2,X,2,0,"small",11),n()),e&2){let t=w();r(),o("ngIf",t.f.newPassword.errors==null?null:t.f.newPassword.errors.required),r(),o("ngIf",t.f.newPassword.errors==null?null:t.f.newPassword.errors.newPassword)}}var _e=(()=>{class e{constructor(t){this.messageService=t,this._AuthApiService=p(G),this._router=p(x),this._toastService=p(B),this.isLoading=!1,this.isSubmitted=!1,this.resetForm=new I({email:new g(null,[f.required,f.email]),newPassword:new g(null,[f.required])})}get f(){return this.resetForm.controls}reset(){if(this.isSubmitted=!0,this.resetForm.invalid){this._toastService.showToast("Please Fill Form","warn");return}this.isLoading=!0,this._AuthApiService.resetPassword(this.resetForm.value).subscribe({next:()=>{this.isLoading=!1,this._toastService.showToast("CHanged Successfully","success"),this._router.navigate(["/auth/login"])},error:t=>{this.isLoading=!1,this._toastService.showToast(t.error.message,"error")}})}static{this.\u0275fac=function(d){return new(d||e)(h(c))}}static{this.\u0275cmp=_({type:e,selectors:[["app-set-password"]],standalone:!0,features:[P([c]),C],decls:12,vars:15,consts:[[3,"formGroup"],[1,"mb-5","fw-bold"],[1,"group"],["type","email","id","inputtext","pInputText","","formControlName","email","placeholder","Enter Email",1,"w-100",3,"ngClass"],["class","text-danger",4,"ngIf"],[1,"my-3"],["formControlName","newPassword","placeholder","Enter New Password",3,"feedback","toggleMask","ngClass"],[1,"mt-5"],[3,"clickEmitter","text","isLoading","classes","type"],[1,"text-danger"],[4,"ngIf"],["class","p-error block",4,"ngIf"],[1,"p-error","block"]],template:function(d,i){d&1&&(u(0,"p-toast"),s(1,"form",0)(2,"h3",1),a(3,"Set a Paswword"),n(),s(4,"div",2),u(5,"input",3),m(6,U,3,2,"div",4),s(7,"div",5),u(8,"p-password",6),m(9,Y,3,2,"div",4),n()(),s(10,"div",7)(11,"app-main-btn",8),S("clickEmitter",function(){return i.reset()}),n()()()),d&2&&(r(),o("formGroup",i.resetForm),r(4),o("ngClass",v(11,J,(i.f.email.touched||i.isSubmitted)&&i.f.email.invalid)),r(),o("ngIf",(i.f.email.touched||i.isSubmitted)&&i.f.email.invalid),r(2),o("feedback",!1)("toggleMask",!0)("ngClass",v(13,J,(i.f.newPassword.touched||i.isSubmitted)&&i.f.newPassword.invalid)),r(),o("ngIf",(i.f.newPassword.touched||i.isSubmitted)&&i.f.newPassword.invalid),r(2),o("text","Confirm")("isLoading",i.isLoading)("classes","rounded-4 w-100")("type","submit"))},dependencies:[L,N,M,T,E,q,k,A,O,D,V,z,H,F,y,b,R,j],styles:[".group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{box-shadow:#959da533 0 8px 24px}[_nghost-%COMP%]  .p-password{width:100%!important}[_nghost-%COMP%]  .p-input-icon-right>.p-inputtext{width:100%!important}"]})}}return e})();export{_e as SetPasswordComponent};
