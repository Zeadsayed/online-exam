import './polyfills.server.mjs';
import{a as B,b as H}from"./chunk-QBZSTHDM.mjs";import"./chunk-PZ7OMX4K.mjs";import{a as M,b as T}from"./chunk-WJWWKD2M.mjs";import"./chunk-TRMP2QUV.mjs";import{a as O,b as V,c as j,d as R,e as z}from"./chunk-CH7ITGSV.mjs";import"./chunk-NFD4YNLC.mjs";import{b as E,c,d as I,e as N,f as k,g,i as A,j as L,k as q,l as G,m as D}from"./chunk-TXIPOYUB.mjs";import{d as f}from"./chunk-BLIVCY6P.mjs";import{P as x,f as y,h as b,k as F}from"./chunk-BNJ4LZ24.mjs";import{Ha as r,Ia as h,X as p,Ya as m,_a as o,aa as _,db as s,eb as n,fb as u,kb as S,lb as w,tb as a,wb as P,xb as C,zb as v}from"./chunk-HZLO2NHA.mjs";import"./chunk-VVCT4QZE.mjs";var J=e=>({"ng-invalid ng-dirty":e});function K(e,l){e&1&&(s(0,"small"),a(1,"Email is required."),n())}function Q(e,l){e&1&&(s(0,"small"),a(1,"Invalid email address."),n())}function U(e,l){if(e&1&&(s(0,"div",9),m(1,K,2,0,"small",10)(2,Q,2,0,"small",10),n()),e&2){let t=w();r(),o("ngIf",t.f.email.errors==null?null:t.f.email.errors.required),r(),o("ngIf",t.f.email.errors==null?null:t.f.email.errors.email)}}function W(e,l){e&1&&(s(0,"small",12),a(1,"Password is required."),n())}function X(e,l){e&1&&(s(0,"small",12),a(1,"Invalid Password."),n())}function Y(e,l){if(e&1&&(s(0,"div",9),m(1,W,2,0,"small",11)(2,X,2,0,"small",11),n()),e&2){let t=w();r(),o("ngIf",t.f.newPassword.errors==null?null:t.f.newPassword.errors.required),r(),o("ngIf",t.f.newPassword.errors==null?null:t.f.newPassword.errors.newPassword)}}var _e=(()=>{class e{constructor(t){this.messageService=t,this._AuthApiService=p(O),this._router=p(x),this._toastService=p(z),this.isLoading=!1,this.isSubmitted=!1,this.resetForm=new k({email:new g(null,[c.required,c.email]),newPassword:new g(null,[c.required])})}get f(){return this.resetForm.controls}reset(){if(this.isSubmitted=!0,this.resetForm.invalid){this._toastService.showToast("Please Fill Form","warn");return}this.isLoading=!0,this._AuthApiService.resetPassword(this.resetForm.value).subscribe({next:()=>{this.isLoading=!1,this._toastService.showToast("CHanged Successfully","success"),this._router.navigate(["/auth/login"])},error:t=>{this.isLoading=!1,this._toastService.showToast(t.error.message,"error")}})}static{this.\u0275fac=function(d){return new(d||e)(h(f))}}static{this.\u0275cmp=_({type:e,selectors:[["app-set-password"]],standalone:!0,features:[P([f]),C],decls:12,vars:15,consts:[[3,"formGroup"],[1,"mb-5","fw-bold"],[1,"group"],["type","email","id","inputtext","pInputText","","formControlName","email","placeholder","Enter Email",1,"w-100",3,"ngClass"],["class","text-danger",4,"ngIf"],[1,"my-3"],["formControlName","newPassword","placeholder","Enter New Password",3,"feedback","toggleMask","ngClass"],[1,"mt-5"],[3,"clickEmitter","text","isLoading","classes","type"],[1,"text-danger"],[4,"ngIf"],["class","p-error block",4,"ngIf"],[1,"p-error","block"]],template:function(d,i){d&1&&(u(0,"p-toast"),s(1,"form",0)(2,"h3",1),a(3,"Set a Paswword"),n(),s(4,"div",2),u(5,"input",3),m(6,U,3,2,"div",4),s(7,"div",5),u(8,"p-password",6),m(9,Y,3,2,"div",4),n()(),s(10,"div",7)(11,"app-main-btn",8),S("clickEmitter",function(){return i.reset()}),n()()()),d&2&&(r(),o("formGroup",i.resetForm),r(4),o("ngClass",v(11,J,(i.f.email.touched||i.isSubmitted)&&i.f.email.invalid)),r(),o("ngIf",(i.f.email.touched||i.isSubmitted)&&i.f.email.invalid),r(2),o("feedback",!1)("toggleMask",!0)("ngClass",v(13,J,(i.f.newPassword.touched||i.isSubmitted)&&i.f.newPassword.invalid)),r(),o("ngIf",(i.f.newPassword.touched||i.isSubmitted)&&i.f.newPassword.invalid),r(2),o("text","Confirm")("isLoading",i.isLoading)("classes","rounded-4 w-100")("type","submit"))},dependencies:[G,A,E,I,N,D,L,q,j,V,R,T,M,F,y,b,H,B],styles:[".group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{box-shadow:#959da533 0 8px 24px}[_nghost-%COMP%]  .p-password{width:100%!important}[_nghost-%COMP%]  .p-input-icon-right>.p-inputtext{width:100%!important}"]})}}return e})();export{_e as SetPasswordComponent};
