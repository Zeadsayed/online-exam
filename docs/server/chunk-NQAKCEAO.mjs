import './polyfills.server.mjs';
import{a as O,b as R}from"./chunk-QBZSTHDM.mjs";import"./chunk-PZ7OMX4K.mjs";import{a as A,b as q,c as G,d as D,e as V}from"./chunk-CH7ITGSV.mjs";import"./chunk-NFD4YNLC.mjs";import{b,c as d,d as E,e as F,f as I,g as _,i as T,j as M,k,l as P,m as N}from"./chunk-TXIPOYUB.mjs";import"./chunk-BLIVCY6P.mjs";import{P as x,Q as L,f as C,h as S,k as y}from"./chunk-BNJ4LZ24.mjs";import{Ha as s,X as u,Ya as m,_a as n,aa as v,db as o,eb as r,fb as f,kb as h,lb as c,tb as a,xb as w,zb as g}from"./chunk-HZLO2NHA.mjs";import"./chunk-VVCT4QZE.mjs";var j=e=>({"ng-invalid ng-dirty":e});function B(e,l){e&1&&(o(0,"small",13),a(1,"Email is required."),r())}function z(e,l){e&1&&(o(0,"small",13),a(1,"Invalid email address."),r())}function H(e,l){if(e&1&&(o(0,"div",11),m(1,B,2,0,"small",12)(2,z,2,0,"small",12),r()),e&2){let i=c();s(),n("ngIf",i.f.email.errors==null?null:i.f.email.errors.required),s(),n("ngIf",i.f.email.errors==null?null:i.f.email.errors.email)}}function J(e,l){e&1&&(o(0,"small",13),a(1,"password is required."),r())}function K(e,l){e&1&&(o(0,"small",13),a(1,"Invalid Password address."),r())}function Q(e,l){if(e&1&&(o(0,"div",11),m(1,J,2,0,"small",12)(2,K,2,0,"small",12),r()),e&2){let i=c();s(),n("ngIf",i.f.password.errors==null?null:i.f.password.errors.required),s(),n("ngIf",i.f.password.errors==null?null:i.f.password.errors.password)}}var de=(()=>{class e{constructor(){this._AuthApiService=u(A),this._toastService=u(V),this._router=u(x),this.isLoading=!1,this.isSubmitted=!1,this.loginForm=new I({email:new _(null,[d.required,d.email]),password:new _(null,[d.required,d.minLength(6)])})}get f(){return this.loginForm.controls}login(){if(this.isSubmitted=!0,this.loginForm.invalid){this._toastService.showToast("Please Fill Form","warn");return}this.isLoading=!0,this._AuthApiService.login(this.loginForm.value).subscribe({next:()=>{this.isLoading=!1,this._toastService.showToast("login successfully","success"),this._router.navigate(["/home"])},error:i=>{this.isLoading=!1,this._toastService.showToast(i.error.message,"error")}})}static{this.\u0275fac=function(p){return new(p||e)}}static{this.\u0275cmp=v({type:e,selectors:[["app-login"]],standalone:!0,features:[w],decls:14,vars:15,consts:[[3,"formGroup"],[1,"mb-5","fw-bold"],[1,"group"],["type","email","id","inputtext","pInputText","","formControlName","email","placeholder","Enter Email",1,"w-100",3,"ngClass"],["class","text-danger",4,"ngIf"],[1,"my-3"],["formControlName","password","placeholder","Enter Password",3,"feedback","toggleMask","ngClass"],[1,"mt-2","d-flex","justify-content-end"],["routerLink","/auth/forget-password",1,"text-decoration-none"],[1,"mt-5"],[3,"clickEmitter","text","isLoading","classes","type"],[1,"text-danger"],["class","p-error block",4,"ngIf"],[1,"p-error","block"]],template:function(p,t){p&1&&(o(0,"form",0)(1,"h3",1),a(2,"Sign In"),r(),o(3,"div",2),f(4,"input",3),m(5,H,3,2,"div",4),o(6,"div",5),f(7,"p-password",6),m(8,Q,3,2,"div",4),r()(),o(9,"div",7)(10,"a",8),a(11,"Reset Password ?"),r()(),o(12,"div",9)(13,"app-main-btn",10),h("clickEmitter",function(){return t.login()}),r()()()),p&2&&(n("formGroup",t.loginForm),s(4),n("ngClass",g(11,j,t.f.email.invalid&&(t.f.email.touched||t.isSubmitted))),s(),n("ngIf",(t.f.email.touched||t.isSubmitted)&&t.f.email.invalid),s(2),n("feedback",!1)("toggleMask",!0)("ngClass",g(13,j,(t.f.password.touched||t.isSubmitted)&&t.f.password.invalid)),s(),n("ngIf",(t.f.password.touched||t.isSubmitted)&&t.f.password.invalid),s(5),n("text","Sign In")("isLoading",t.isLoading)("classes","rounded-4 w-100")("type","submit"))},dependencies:[P,T,b,E,F,N,M,k,G,q,D,L,y,C,S,R,O],styles:[".group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{box-shadow:#959da533 0 8px 24px}[_nghost-%COMP%]  .p-password{width:100%!important}[_nghost-%COMP%]  .p-input-icon-right>.p-inputtext{width:100%!important}"]})}}return e})();export{de as LoginComponent};
