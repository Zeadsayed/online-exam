import './polyfills.server.mjs';
import{b as B}from"./chunk-QBZSTHDM.mjs";import"./chunk-PZ7OMX4K.mjs";import{a as w,b as M}from"./chunk-WJWWKD2M.mjs";import"./chunk-TRMP2QUV.mjs";import{a as R,b as j,c as q,d as O,e as z}from"./chunk-CH7ITGSV.mjs";import"./chunk-NFD4YNLC.mjs";import{b as T,c as V,d as E,e as I,f as L,g as N,i as k,j as A,k as D,l as G,m as P}from"./chunk-TXIPOYUB.mjs";import{d as l}from"./chunk-BLIVCY6P.mjs";import{P as F,Q as b,f as _,h as S,k as x}from"./chunk-BNJ4LZ24.mjs";import{Ha as n,Ia as c,X as d,Ya as p,_a as s,aa as f,db as r,eb as o,fb as u,kb as v,lb as g,tb as a,wb as h,xb as C,zb as y}from"./chunk-HZLO2NHA.mjs";import"./chunk-VVCT4QZE.mjs";var J=e=>({"ng-invalid ng-dirty":e});function K(e,H){e&1&&(r(0,"small",11),a(1,"Code is required."),o())}function Q(e,H){if(e&1&&(r(0,"div",9),p(1,K,2,0,"small",10),o()),e&2){let i=g();n(),s("ngIf",i.f.resetCode.errors==null?null:i.f.resetCode.errors.required)}}var fe=(()=>{class e{constructor(i){this.messageService=i,this._AuthApiService=d(R),this._router=d(F),this._toastService=d(z),this.isLoading=!1,this.isSubmitted=!1,this.verifyForm=new L({resetCode:new N(null,[V.required])})}get f(){return this.verifyForm.controls}submit(){if(this.isSubmitted=!0,this.verifyForm.invalid){this._toastService.showToast("Please Fill Form","warn");return}this.isLoading=!0,this._AuthApiService.verify(this.verifyForm.value).subscribe({next:()=>{this.isLoading=!1,this._toastService.showToast("Verified","success"),this._router.navigate(["/auth/reset-password"])},error:i=>{this.isLoading=!1,this._toastService.showToast(i.error.message,"error")}})}static{this.\u0275fac=function(m){return new(m||e)(c(l))}}static{this.\u0275cmp=f({type:e,selectors:[["app-verify"]],standalone:!0,features:[h([l]),C],decls:14,vars:9,consts:[[3,"formGroup"],[1,"mb-5","fw-bold"],[1,"group"],["type","text","id","inputtext","pInputText","","formControlName","resetCode","placeholder","Enter Code",1,"w-100",3,"ngClass"],["class","text-danger",4,"ngIf"],[1,"mt-2","d-flex","justify-content-end"],["routerLink","/auth/login",1,"text-decoration-none"],[1,"mt-5"],[3,"clickEmitter","text","isLoading","classes","type"],[1,"text-danger"],["class","p-error block",4,"ngIf"],[1,"p-error","block"]],template:function(m,t){m&1&&(u(0,"p-toast"),r(1,"form",0)(2,"h3",1),a(3,"Verify Code"),o(),r(4,"div",2),u(5,"input",3),p(6,Q,2,1,"div",4),o(),r(7,"div",5)(8,"span"),a(9,"Didn\u2019t receive a code? "),r(10,"a",6),a(11,"Resend"),o()()(),r(12,"div",7)(13,"app-main-btn",8),v("clickEmitter",function(){return t.submit()}),o()()()),m&2&&(n(),s("formGroup",t.verifyForm),n(4),s("ngClass",y(7,J,t.f.resetCode.invalid&&(t.f.resetCode.touched||t.isSubmitted))),n(),s("ngIf",(t.f.resetCode.touched||t.isSubmitted)&&t.f.resetCode.invalid),n(7),s("text","Verify")("isLoading",t.isLoading)("classes","rounded-4 w-100")("type","submit"))},dependencies:[G,k,T,E,I,P,A,D,q,j,O,b,M,w,x,_,S,B],styles:[".group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{box-shadow:#959da533 0 8px 24px}"]})}}return e})();export{fe as VerifyComponent};
